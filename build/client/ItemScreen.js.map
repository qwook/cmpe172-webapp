{"version":3,"sources":["../../client/ItemScreen.js"],"names":["ItemScreen","state","ajax","url","props","params","itemId","method","contentType","on","e","console","log","target","response","res","JSON","parse","success","setState","title","description","user","price","comments","error","err","loading","send","refs","commentInput","focus","fontWeight","username","color","fontSize","Component"],"mappings":";;;;;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;;;;;;;;;IAEqBA,U;;;;;;;;qKAEnBC,K,GAAQ,E;;;;;yCAEa;AAAA;;AACnB,UAAIC,OAAO,yBACT;AACEC,aAAK,eAAe,KAAKC,KAAL,CAAWC,MAAX,CAAkBC,MADxC;AAEEC,gBAAQ,KAFV;AAGEC,qBAAa;AAHf,OADS,CAAX;;AAQAN,WAAKO,EAAL,CAAQ,SAAR,EAAmB,UAACC,CAAD,EAAO;AACxBC,gBAAQC,GAAR,CAAYF,EAAEG,MAAF,CAASC,QAArB;;AAEA,YAAIC,MAAMC,KAAKC,KAAL,CAAWP,EAAEG,MAAF,CAASC,QAApB,CAAV;;AAEA,YAAIC,IAAIG,OAAR,EAAiB;AACf,iBAAKC,QAAL,CAAc;AACZC,mBAAOL,IAAIK,KADC;AAEZC,yBAAaN,IAAIM,WAFL;AAGZC,kBAAMP,IAAIO,IAHE;AAIZC,mBAAOR,IAAIQ,KAJC;AAKZC,sBAAUT,IAAIS;AALF,WAAd;AAOD,SARD,MAQO;AACL,iBAAKL,QAAL,CAAc;AACZM,mBAAOV,IAAIW;AADC,WAAd;AAGD;AACF,OAlBD;;AAoBAxB,WAAKO,EAAL,CAAQ,OAAR,EAAiB,YAAM;AACrB,eAAKU,QAAL,CAAc;AACZM,iBAAO,YADK;AAEZE,mBAAS;AAFG,SAAd;AAID,OALD;;AAOAzB,WAAK0B,IAAL;AAED;;;wCAEmB;AAClB,WAAKC,IAAL,CAAUC,YAAV,CAAuBC,KAAvB;AACD;;;6BAEQ;AACPpB,cAAQC,GAAR,CAAY,KAAKR,KAAL,CAAWC,MAAX,CAAkBC,MAA9B;AACA,aAAO;AAAA;AAAA;AACL;AAAA;AAAA,YAAK,WAAU,KAAf;AACE;AAAA;AAAA,cAAK,WAAU,WAAf;AACE;AAAA;AAAA,gBAAG,OAAO,EAAC0B,YAAY,MAAb,EAAV;AAAiC,mBAAK/B,KAAL,CAAWqB,IAAX,GAAkB,KAAKrB,KAAL,CAAWqB,IAAX,CAAgBW,QAAlC,GAA6C;AAA9E;AADF;AADF,SADK;AAML,8DAAY,KAAK,YAAY,KAAK7B,KAAL,CAAWC,MAAX,CAAkBC,MAA/C,GANK;AAOL,iDAPK;AAQL;AAAA;AAAA,YAAK,WAAU,KAAf;AACE;AAAA;AAAA,cAAK,WAAU,UAAf;AACE;AAAA;AAAA;AAAK,mBAAKL,KAAL,CAAWmB;AAAhB,aADF;AAEE;AAAA;AAAA;AAAI,mBAAKnB,KAAL,CAAWoB;AAAf;AAFF,WADF;AAKE;AAAA;AAAA,cAAK,WAAU,UAAf;AACE;AAAA;AAAA,gBAAG,OAAO,EAACW,YAAY,MAAb,EAAqBE,OAAO,OAA5B,EAAqCC,UAAU,MAA/C,EAAV;AAAA;AAAoE,mBAAKlC,KAAL,CAAWsB;AAA/E;AADF;AALF,SARK;AAiBL,iDAjBK;AAkBL;AAAA;AAAA,YAAK,WAAU,KAAf;AACE;AAAA;AAAA,cAAK,WAAU,WAAf;AACE,mEADF;AAEE;AAAA;AAAA,gBAAK,WAAU,aAAf;AACE,uDAAO,WAAU,cAAjB,EAAgC,MAAK,MAArC,EAA4C,KAAI,cAAhD,GADF;AAEE;AAAA;AAAA,kBAAM,WAAU,iBAAhB;AACE;AAAA;AAAA,oBAAK,WAAU,iBAAf;AAAiC,0DAAM,WAAU,8BAAhB;AAAjC;AADF,eAFF;AAKE;AAAA;AAAA,kBAAM,WAAU,iBAAhB;AACE;AAAA;AAAA,oBAAK,WAAU,iBAAf;AAAA;AAAA;AADF;AALF;AAFF;AADF;AAlBK,OAAP;AAiCD;;;;EAnFqC,gBAAMa,S;;kBAAzBpC,U","file":"ItemScreen.js","sourcesContent":["\nimport React from 'react';\nimport Ajax from 'simple-ajax';\n\nimport SmartImage from './SmartImage';\nimport Comments from './Comments';\n\nexport default class ItemScreen extends React.Component {\n\n  state = {};\n\n  componentWillMount() {    \n    var ajax = new Ajax(\n      {\n        url: '/api/item/' + this.props.params.itemId,\n        method: 'GET',\n        contentType: 'application/json'\n      }\n    );\n\n    ajax.on('success', (e) => {\n      console.log(e.target.response);\n\n      var res = JSON.parse(e.target.response);\n\n      if (res.success) {\n        this.setState({\n          title: res.title,\n          description: res.description,\n          user: res.user,\n          price: res.price,\n          comments: res.comments\n        });\n      } else {\n        this.setState({\n          error: res.err\n        });\n      }\n    });\n\n    ajax.on('error', () => {\n      this.setState({\n        error: \"Ajax Error\",\n        loading: false\n      });\n    });\n\n    ajax.send();\n\n  }\n\n  componentDidMount() {\n    this.refs.commentInput.focus();\n  }\n\n  render() {\n    console.log(this.props.params.itemId);\n    return <div>\n      <div className=\"row\">\n        <div className=\"col-xs-12\">\n          <p style={{fontWeight: \"bold\"}}>{this.state.user ? this.state.user.username : null}</p>\n        </div>\n      </div>\n      <SmartImage src={\"/image/\" + this.props.params.itemId} />\n      <br />\n      <div className=\"row\">\n        <div className=\"col-xs-8\">\n          <h4>{this.state.title}</h4>\n          <p>{this.state.description}</p>\n        </div>\n        <div className=\"col-xs-4\">\n          <p style={{fontWeight: \"bold\", color: \"green\", fontSize: \"18pt\"}}>${this.state.price}</p>\n        </div>\n      </div>\n      <hr />\n      <div className=\"row\">\n        <div className=\"col-xs-12\">\n          <Comments />\n          <div className=\"input-group\">\n            <input className=\"form-control\" type=\"text\" ref=\"commentInput\" />\n            <span className=\"input-group-btn\">\n              <div className=\"btn btn-default\"><span className=\"glyphicon glyphicon-eye-open\" /></div>\n            </span>\n            <span className=\"input-group-btn\">\n              <div className=\"btn btn-primary\">Send</div>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  }\n}"]}